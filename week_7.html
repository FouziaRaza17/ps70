<!DOCTYPE html>
<html lang="en">
<head>
  <title>Week 8 - PS70</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    /* Add a gray background color and some padding to the footer */
    footer {
      background-color: #313131;
      padding: 25px;
      bottom: 0
    
    }

    .jumbotron{
    background-color: rgb(82, 23, 23);
    color: rgb(255, 255, 255)
    }
  </style>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="./index.html">Portfolio</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="./index.html">Home</a></li>
        <li><a href="./about.html">About</a></li>
        <li><a href="./gallery.html">Gallery</a></li>
        <li><a href="https://nathanmelenbrink.github.io/ps70/index.html">PS 70</a></li>
      </ul>
      
    </div>
  </div>
</nav>

<div class="jumbotron text-center">
    <h1 style="font-family:gerogia;">Output Devices</h1>
    <p style="font-family:verdana;">Redemption!</pstyle="font-family:gerogia;">   
</div>
  
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h3>Assignment</h3>
        <p> This week's assignment was to program a microcontroller to do something. </p><br>
      <h4>Materials and Software Used</h4>
        <p>Arduino Uno, Arduino/C, breadboard, ultrasonic range sensor, motor driver, soldering</p><br>
      <h3>Background</h3>
        <p>Microcontrollers such as the Arduino Uno and the Itsy Bitsy M4 are based on a single integrated circuit chip 
          that can take inputs from modules such as sensors and switches and porduce a desired output through an actuator, 
          bulb, buzzer, speaker, or solenoid, to name a few.  </p><br>
      <h3>Making my Uno do something</h3>
        <p>I wanted to initially make a tiny skateboard that would coast autonomously, come to a stop if it came close to an object, and then go backwards.  
        </p>
        <p>But... time constraints! YAY! So I decided to just make a motor rotate based on values outputted by the ultrasonic sensor.
        </p>
    </div>
  </div>
</div><br>

<div class = "container">
  <div class="row">
    <div class="col-sm-4">
      <img src="uno.jpg" 
      class="img-responsive" style="width:100%" alt="Image">
      <h4>Ardunio Uno</h4>
      <p>The Ardunio Uno is one of the easiest microcontrollers to use (and is why the microncontroller of choice for most beginners).
        It has 14 digital input/output pins (6 of which can be used as PWM outputs), and 6 analog inputs. It is easily 
        programmable with the Ardunio IDE via a USB cable or 9V battery. I will be using a few of the digital pins for the 
        motor driver and ultrasonic sensor and the power and ground pins for my circuit.   </p><br>
      <h4>Arduino Uno Pinout</h4><br>
      <img src="uno_pinout.png" 
      class="img-responsive" style="width:80%" alt="Image">
    </div>
    <div class="col-sm-4">
      <img src="sensor.jpg" 
      class="img-responsive" style="width:100%" alt="Image">
      <h4>HC-SR04 Ultrasonic Sensor</h4>
      <p>The only type of ultrasonic range sensor that I could find in the lab was the Arduino HC-SR04 (Ultra-sonic "ping" senosr),
        which easily connected to the Ardunio Uno which were plenty on hand. Ultrasound waves are high-pitched 
      sound waves whose frequencies are beyond the audible limit of human hearing. This sensor is composed of two 
      ultrasonic transducers -- one that trasmits the converted electrical signal to utrasound waves and one that receives 
      the transmitted pulses, producing an output proportional to the distance the pulse travelled.   </p><br>
      <h4>L298 Motor Driver Pinout</h4><br>
      <img src="sensor_pinout.png" 
      class="img-responsive" style="width:80%" alt="Image">
      </div>
    <div class="col-sm-4">
      <img src="motor_driver.jpg" 
      class="img-responsive" style="width:100%" alt="Image">
      <h4>L298 Motor Driver Module</h4>
      <p>With most microncontrollers like the Arduino, driving an LED is no problem since the current draw is so low (about 
        20 mA). Driving a DC motor, however, requires a lot of current (the motor I will be using has no-load current of 70mA).
        This is where motor drivers come in. This motor driver has an H-bridge which allows for direction control and another 
        source of power supply that is sufficient to drive the 6V motor (the Uno can only output a maximum of 5V). The driver has 
        four inputs, but since I will be using only one motor, I will only be needing two of these. </p><br>
      <h4>L298 Motor Driver Pinout</h4><br>
      <img src="motor_driver_pinout.png" 
      class="img-responsive" style="width:100%" alt="Image">
    </div>
  </div>
</div><br><br><br><br>

<div class = "container">
  <div class="row">
    <h3>Putting it Together</h3>
    <div class="col-sm-12">
      <br><p>Using the pinout diagrams below, I wired the motor driver to the Uno together based on the following circuit 
        diagram (minus the battery): </p>
      <img src="motor_driver_wiring.jpg" 
      class="img-responsive" style="width:100%" alt="Image"><br>
      <p>To do this, I first soldered a red and black wire to each of the motor pins to connect to the input pins on the 
        motor driver. Because of my limited number of limbs, I was unable to take pictures of my soldering work (that would
        have been completely unsafe as well).</p> 
    </div>
  </div>
</div><br><br>

<div class = "container">
  <div class="row">
    <div class="col-sm-4">
      <h4>Pololu Micro Metal Gearmotor HP 6V</h4>
      <img  src="pololu_motor.jpg" 
      class="horizontalcenter;" style="width:50%; display:block; margin-left: auto; margin-right: auto" alt="centered image"><br><br>
      <p>This gearmotor is a miniature high-power, 6 V brushed DC motor with a 4.995:1 metal gearbox. It has a cross section 
        of 10 Ã— 12 mm, and the D-shaped gearbox output shaft is 9 mm long and 3 mm in diameter.</p>
    </div>
    <div class="col-sm-4">
      <img src="soldered_motor.jpeg" 
      class="img-responsive" style="width:95%; transform: rotate(0deg); display:block; margin-left: auto; margin-right: auto" alt="Image">
    </div>
    <div class="col-sm-4">
      <img src="md_wired.PNG" 
      class="img-responsive" style="width:100%; transform: rotate(0deg); display:block; margin-left: auto; margin-right: auto" alt="Image"><br> <br>
    </div>
  </div>
</div><br><br>
      
<div class = "container">
  <div class="row">
    <h4>Code for rotating motor</h4><br>
    <div class="col-sm-6">
      <img src="motor_code.PNG" 
      class="img-responsive" style="width:100%; transform: rotate(0deg); display:block; margin-left: auto; margin-right: auto" alt="Image"><br>
    </div>
    <div class="col-sm-6">
      <p>After configuring the Ardunio IDE to connect to the Uno via the COM port, I began to initialize the pins being used.
        Since I was only using one motor, I only had to initalize to pins at first (the other pins are for the ultrasonic sensor, 
        which I will get back to later). Pin 9 was connected to Input 1 and Pin 8 was connected to Input 2 on the motor driver. The 
        output pins on the driver were then connected to the red and black wires that I had soldered onto the motor earlier. 
        It was a bit difficult to keep the wires plugged in since the ports were those that you have to solder on before testing,
        so a couple of minutes after some more soldering, I had a rotating motor!</p>
        
        <p>After initializing my pins, I created a loop that rotated the motor clockwise for 2 seconds
        followed by a one second delay. Since the loop was set to be executed indefinitely, the motor continued rotating 
        until I cut off the power supply.</p>
    </div>
  </div>
</div><br><br><br>

<div class = "container">
  <div class="row">
    <div class="col-sm-4">
      <img src="rotating_motor.gif" 
      class="img-responsive" style="width:100%; transform: rotate(0deg); display:block; margin-left: auto; margin-right: auto" alt="spinmotor">
    </div>
    <div class="col-sm-4">
      <img src="motor_gif.gif" 
      class="img-responsive" style="width:100%; transform: rotate(0deg); display:block; margin-left: auto; margin-right: auto" alt="spinmotor">    
    </div>
    <div class="col-sm-4">
      <img src="rotate_motor_turn.gif" 
      class="img-responsive" style="width:100%" alt="spinmotor"><br><br>
      <p>Since the motor driver only takes up to two motors, I might have to make a two-wheel drive for my skateboard. However, 
        I could also just decide to throw on another motor driver for a four-wheel drive. This would mean more added weight, 
        which I would like to minimize, if I even do continue working on my skateboard. </p>
        
      <p>After seizing one of these wooden balls from the back cabinets, Fortunately, the shaft was able to spin this wooden ball that that I was about to use as 
        the wheels before Rob saved the day with Lego wheels! </p>
    <p>I have never been so happy for Lego wheels. Long live Lego lovers! </p>
    </div>  
  </div>
</div><br><br><br>


<div class="container">
        <div class="row">
          <div class="col-sm-12">
              <h4>The Rotating Motor</h3>
                <p>After assigning the pin values to the variables I used in my code, I made a loop that ran on forever, taking the 
                    sensor values and comparing it to the number 10 (cm away from the sensor). I used an if statement to make the 
                    motor spin clockwise at maximum speed if the sensor values were outputting values greater than 10 and made the 
                    motor stop spinning if the values read less than 10 (object comes too close to the board). 
                </p>
            <center><img src="rotating_motor.gif" 
                class="centerImage" style="width:50%" alt="lasercut"></center>
          </div>
        </div>
    </div><br><br><br>
    <div class="container">
        <div class="row">
          <div class="col-sm-12">
              <h3>The finished product:</h3><br>
              <center><img src="motor_final.gif" 
                class="centerImage" style="width:50%" alt="lasercut"></center>
          </div>
        </div>
    </div>
</div><br><br><br><br><br>
<footer class="container-fluid text-center">
    <p style='color:#ffffff;'>Powered by electricity</p>
  
  </footer>
</body>
</html>